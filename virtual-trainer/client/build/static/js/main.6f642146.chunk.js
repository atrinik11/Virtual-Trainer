(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,a,t){e.exports=t(61)},31:function(e,a,t){},55:function(e,a,t){},57:function(e,a,t){},61:function(e,a,t){"use strict";t.r(a);var n,l=t(0),r=t.n(l),c=t(25),s=t.n(c),o=t(62),m=(t(31),t(8)),i=t(9),d=t(11),u=t(10),h=t(12),g=t(13),p=t(2),b=t(63),f=t(5),v=t.n(f),E=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(d.a)(this,Object(u.a)(a).call(this))).handleInputChange=function(a){var t=a.target.name,n=a.target.value;e.setState(Object(g.a)({},t,n))},e.handleFormSubmit=function(a){a.preventDefault(),console.log("SignUp form: ",e.state.username),e.state.password!==e.state.confirmPassword?alert("Password do not match"):e.state.username||""!==e.state.password?v.a.post("/signup",{userName:e.state.username,password:e.state.password}).then(function(a){console.log("response: ",a),a.data.error?(alert("Username is taken"),e.setState.username="",e.setState.password="",e.setState.confirmPassword=""):(console.log("Username accepted!!"),alert("Welcome ".concat(a.data.userName," ! Redirecting to Login")),e.setState({redirectTo:"/login"}))}).catch(function(e){console.log("sign up error: ",e)}):alert("Pls provide with username and password")},e.state={username:"",password:"",confirmPassword:"",redirectTo:null},e.handleFormSubmit=e.handleFormSubmit.bind(Object(p.a)(Object(p.a)(e))),e.handleInputChange=e.handleInputChange.bind(Object(p.a)(Object(p.a)(e))),e}return Object(h.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return this.state.redirectTo?r.a.createElement(b.a,{to:{pathname:this.state.redirectTo}}):r.a.createElement("div",{className:"SignupForm"},r.a.createElement("h4",null,"Sign Up"),r.a.createElement("form",{className:"form-horizontal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},r.a.createElement("label",{className:"form-label",htmlFor:"username"},"Username")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"username",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleInputChange})),r.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},r.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"password",name:"password",placeholder:"password",value:this.state.password,onChange:this.handleInputChange})),r.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},r.a.createElement("label",{className:"form-label",htmlFor:"confirmPassword"},"Confirm Password")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"confirmPassword",name:"confirmPassword",placeholder:"confirm password",value:this.state.confirmPassword,onChange:this.handleInputChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",onClick:this.handleFormSubmit,type:"submit"},"Sign Up"))))}}]),a}(l.Component),N=(n={weightLossArticles:function(e){var a="https://api.nytimes.com/svc/search/v2/articlesearch.json?api-key=462a94997e72401b92d8f11524378eba&q="+e;return v.a.get(a)},NutritionBreakdown:function(e){return console.log(e),v.a.post("api/food",e)},getFood:function(){return v.a.get("api/dailyprogress")},updateUser:function(e,a){return console.log("saveuser: ",a),v.a.post("/api/updateuser/".concat(e),a)},getUser:function(){return v.a.get("/auth/login")}},Object(g.a)(n,"updateUser",function(e){return console.log("saveuser: ",e),v.a.post("/signup/{userinfo.user}",e)}),Object(g.a)(n,"deleteUser",function(e){return v.a.get("/api/savedusers/".concat(e))}),Object(g.a)(n,"getArticles",function(){return v.a.get("/api/savearticles")}),Object(g.a)(n,"saveArticles",function(e){return v.a.post("/api/savearticles",e)}),Object(g.a)(n,"deleteArticles",function(e){return v.a.delete("/api/savearticles/".concat(e))}),n),w=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(u.a)(a).call(this,e))).handleAgeChange=function(e){t.setState({age:e.target.value})},t.handleGenderChange=function(e){t.setState({gender:e.target.value})},t.handleWeightChange=function(e){t.setState({weight:e.target.value})},t.handleHeightChange=function(e){t.setState({height:e.target.value})},t.handlePhoneNumberChange=function(e){t.setState({phoneNumber:e.target.value})},t.handleGoalChange=function(e){t.setState({goal:e.target.value})},t.handleRecommendedIntakeChange=function(e){t.setState({recommendedIntake:e.target.value})},t.getSessionData=function(e){N.getUser(e).then(function(e){t.setState({user:e.data.user})})},t.handleFormSubmit=function(e){if(e.preventDefault(),t.state.age||t.state.gender||t.state.weight||t.state.height||t.state.phoneNumber||t.state.goal||""!==t.state.recommendedIntake){var a={user:t.state.user,age:t.state.age,gender:t.state.gender,weight:t.state.weight,height:t.state.height,phoneNumber:t.state.phoneNumber,goal:t.state.goal,recommendedIntake:t.state.recommendedIntake};console.log("new User: ",a),N.updateUser(a).then(function(e){console.log("response: ",e),console.log("id: ",e.data._id),e.data.error?alert("User Info couldnot be Saved."):(console.log("User Info Saved!!"),t.setState({redirectTo:"/"}))}).catch(function(e){console.log("sign up error: ",e)})}else alert("Pls provide with user details")},t.state={user:"",age:"",gender:"",weight:"",height:"",phoneNumber:"",goal:"",recommendedIntake:"",redirectTo:null},t.handleFormSubmit=t.handleFormSubmit.bind(Object(p.a)(Object(p.a)(t))),t.handleAgeChange=t.handleAgeChange.bind(Object(p.a)(Object(p.a)(t))),t.handleGenderChange=t.handleGenderChange.bind(Object(p.a)(Object(p.a)(t))),t.handleWeightChange=t.handleWeightChange.bind(Object(p.a)(Object(p.a)(t))),t.handleHeightChange=t.handleHeightChange.bind(Object(p.a)(Object(p.a)(t))),t.handlePhoneNumberChange=t.handlePhoneNumberChange.bind(Object(p.a)(Object(p.a)(t))),t.handleGoalChange=t.handleGoalChange.bind(Object(p.a)(Object(p.a)(t))),t.handleRecommendedIntakeChange=t.handleRecommendedIntakeChange.bind(Object(p.a)(Object(p.a)(t))),t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getSessionData()}},{key:"render",value:function(){return this.state.redirectTo?r.a.createElement(b.a,{to:{pathname:this.state.redirectTo}}):r.a.createElement("div",{className:"SignupForm"},r.a.createElement("h4",null,"User Information"),r.a.createElement("form",{className:"form-horizontal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"age"},"Age")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"age",name:"age",placeholder:"age",value:this.state.age,onChange:this.handleAgeChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"gender"},"Gender")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"gender",name:"gender",placeholder:"gender",value:this.state.gender,onChange:this.handleGenderChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"weight"},"Weight")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"weight",name:"weight",placeholder:"weight(lb)",value:this.state.weight,onChange:this.handleWeightChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"height"},"Height")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"height",name:"height",placeholder:"height(in feet)",value:this.state.height,onChange:this.handleHeightChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"phonenumber"},"Phone number")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"phonenumber",name:"phonenumber",placeholder:"phone number",value:this.state.phoneNumber,onChange:this.handlePhoneNumberChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"goal"},"Goal")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("textarea",{className:"form-input",type:"text",id:"goal",name:"goal",placeholder:"goal",value:this.state.goal,onChange:this.handleGoalChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"recommendedIntake"},"Recommended Intake")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("textarea",{className:"form-input",type:"text",id:"recommendedIntake",name:"recommendedIntake",placeholder:"recommended intake",value:this.state.recommendedIntake,onChange:this.handleRecommendedIntakeChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",onClick:this.handleFormSubmit,type:"submit"},"Submit"))))}}]),a}(l.Component),C=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(d.a)(this,Object(u.a)(a).call(this))).handleInputChange=function(a){var t=a.target.name,n=a.target.value;e.setState(Object(g.a)({},t,n))},e.handleFormSubmit=function(a){a.preventDefault(),console.log("Login form: ",e.state.userName),e.state.userName&&""!==e.state.password?(console.log("User to login: ",e.state.userName,e.state.password),v.a.post("/auth/login",{username:e.state.userName,password:e.state.password}).then(function(a){console.log("response: ",a),console.log("UserName found!!"),alert("Welcome ".concat(a.data.user.userName," ! Redirecting to Profile")),console.log("id: ",a.data),e.setState({redirectTo:"/userinfo"})}).catch(function(a){console.log("Login error: ",a),console.log("User not found"),alert("User not found or password incorrect"),e.setState.username="",e.setState.password=""})):alert("Pls provide with userName and password")},e.state={userName:"",password:"",redirectTo:null},e.handleFormSubmit=e.handleFormSubmit.bind(Object(p.a)(Object(p.a)(e))),e.handleInputChange=e.handleInputChange.bind(Object(p.a)(Object(p.a)(e))),e}return Object(h.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return this.state.redirectTo?r.a.createElement(b.a,{to:{pathname:this.state.redirectTo}}):r.a.createElement("div",{className:"LoginForm"},r.a.createElement("h4",null,"Sign In"),r.a.createElement("div",{className:"row"}),r.a.createElement("form",{className:"form-horizontal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},r.a.createElement("label",{className:"form-label",htmlFor:"userName"},"UserName")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"userName",name:"userName",placeholder:"userName",value:this.state.userName,onChange:this.handleInputChange})),r.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},r.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",type:"text",id:"password",name:"password",placeholder:"password",value:this.state.password,onChange:this.handleInputChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",onClick:this.handleFormSubmit,type:"submit"},"Sign In"))))}}]),a}(l.Component),S=t(65),j=t(64),O=(t(55),function(e){return r.a.createElement("div",{className:"container main-page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"panel panel-primary"},r.a.createElement("div",{className:"panel-body"},r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h1",{className:"text-center"},r.a.createElement("strong",null,"Article Search")),r.a.createElement("h2",{className:"text-center"},"Search for and save articles of interest.")))),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("i",{className:"material-icons prefix"},"search"),r.a.createElement("label",{htmlFor:"topic"},"Topic"),r.a.createElement("input",{onChange:e.handleTopicChange,type:"text",className:"form-control",id:"topic","aria-describedby":"emailHelp"})),r.a.createElement("button",{onClick:e.getArticles,type:"submit",className:"btn btn-primary"},"Submit")))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"panel panel-primary"},r.a.createElement("div",{className:"panel-heading"},r.a.createElement("h3",{className:"panel-title"},r.a.createElement("strong",null,r.a.createElement("i",{className:"fa fa-newspaper-o","aria-hidden":"true"})," Results"))),r.a.createElement("div",{className:"panel-body"},e.renderArticles())))))}),y=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("h4",null,r.a.createElement("span",null,r.a.createElement("em",null,e.title)),r.a.createElement("span",{className:"btn-group pull-right"},r.a.createElement("a",{href:e.url,rel:"noopener noreferrer",target:"_blank"},r.a.createElement("button",{className:"btn btn-default "},"View Article")),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.handleSaveButton(e._id)}},"Save")))))},k=(t(57),function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("h4",null,r.a.createElement("span",null,r.a.createElement("em",null,e.title)),r.a.createElement("span",{className:"btn-group pull-right"},r.a.createElement("a",{href:e.url,target:"_blank"},r.a.createElement("button",{className:"btn btn-default "},"View Article")),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.handleDeleteButton(e._id)}},"Delete"))),r.a.createElement("p",null,"Date Published: ",e.date)))}),A=(t(59),function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(l)))).state={topic:"",articles:[],saved:[]},t.getArticles=function(e){e.preventDefault(),N.weightLossArticles(t.state.topic).then(function(e){t.setState({articles:e.data.response.docs})})},t.handleTopicChange=function(e){t.setState({topic:e.target.value})},t.getSavedArticles=function(){N.getArticles().then(function(e){t.setState({saved:e.data})})},t.handleSaveButton=function(e){var a=t.state.articles.find(function(a){return a._id===e});t.state.articles.find(function(e){return console.log(e)}),console.log(t.state.articles.find(function(a){return a._id===e}));var n={title:a.headline.main,url:a.web_url};N.saveArticles(n).then(t.getSavedArticles())},t.handleDeleteButton=function(e){N.deleteArticles(e).then(t.getSavedArticles())},t.renderSavedArticles=function(){return t.state.saved.map(function(e){return r.a.createElement(k,{_id:e._id,key:e._id,title:e.title,url:e.url,handleDeleteButton:t.handleDeleteButton,getSavedArticles:t.getSavedArticles})})},t.renderArticles=function(){return t.state.articles.map(function(e){return r.a.createElement(y,{_id:e._id,key:e._id,title:e.headline.main,url:e.web_url,handleSaveButton:t.handleSaveButton,getSavedArticles:t.getSavedArticles})})},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getSavedArticles()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O,{handleTopicChange:this.handleTopicChange,getArticles:this.getArticles,renderArticles:this.renderArticles}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"panel panel-primary"},r.a.createElement("div",{className:"panel-heading"},r.a.createElement("h3",{className:"panel-title"},r.a.createElement("strong",null,r.a.createElement("i",{className:"fa fa-download","aria-hidden":"true"})," Saved Articles"))),r.a.createElement("div",{className:"panel-body"},r.a.createElement("ul",{className:"list-group"},this.renderSavedArticles())))))))}}]),a}(l.Component)),I=function(e){function a(){return Object(m.a)(this,a),Object(d.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement(j.a,{exact:!0,path:"/",component:E}),r.a.createElement(j.a,{exact:!0,path:"/articles",component:A}),r.a.createElement(j.a,{exact:!0,path:"/sign-up",component:E}),r.a.createElement(j.a,{exact:!0,path:"/UserInfo",component:w}),r.a.createElement(j.a,{exact:!0,path:"/Login",component:C}))))}}]),a}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(o.a,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.6f642146.chunk.js.map